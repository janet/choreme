{% extends 'base.html' %}
{% block content %}

<h2>Create House Preferences</h2>



<form action="/scheduling_algorithm">
    <h3>Add Your House</h3>
    House Name: 
    <input type="text" name="house_name" placeholder="Monkey House" required><br>
    <br>

    <h4>House Members:</h4>
    Admin Phone: <input type="text" name="admin-phone" placeholder="+15105551234"><br>
    <br>

    <h3>Choose Your Chores</h3>
    Select From Table<br>
    {% for chore in chore_objs %}
    <ul id="chore-potentials">
    	<li>{{ chore.name }}</li>
    </ul>
    {% endfor %}

	Selected Table<br>
	<ul id="chore-selected">
		<!-- chores go here -->
	</ul>

	<div id="chore-selected-inputs"></div>

	<ul id="chore-modal"></ul>

	
	<a href="/create_house_pref_2">Click on each chore to get to the chore page</a><br>

	<br>
	"Please select a frequency for each chore"<br>

	<br>
	Schedule out for: 
	<input type="number" min="1" max="52" name="num_weeks" required>
	weeks<br>
	<input type="submit" value="CHORE ME">
</form>


<style>
   .moved { color: gray; text-decoration: line-through; }
</style>

<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
  Launch demo modal
</button>

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Chore name</h4>
      </div>
      <div class="modal-body">
        <form action="/login" id="loginform" method="post">
            <b>Frequency: </b>
            <select type="text" name="week_freq" class="form-control">
		      <option value="1" selected="selected">Weekly</option>
		      <option value="2">Bi-Weekly</option>
		      <option value="3">Every 3 Weeks</option>
		      <option value="4">Every 4 Weeks</option>
    		</select>
    		<br>

    		<b>Day of Week Due: </b>
            <select type="text" name="day_of_week" class="form-control">
		      <option value="Sunday" selected="selected">Sunday</option>
		      <option value="Monday">Monday</option>
		      <option value="Tuesday">Tuesday</option>
		      <option value="Wednesday">Wednesday</option>
		      <option value="Thursday">Thursday</option>
		      <option value="Friday">Friday</option>
		      <option value="Saturday">Saturday</option>
    		</select> 
    		<br>   		
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>

<script>
	
	function selectChore(evt) {
		var chore = $(evt.target);

		// if we've already moved this to being selected, don't do it again
		if (chore.hasClass('moved')) {
			return;
		}
		chore.addClass('moved');
		var choreElement = $('<li>').html(chore.html()).on('click', setChoreFreq);
		$("#chore-selected").append(choreElement);
		$("#chore-selected-inputs").append('<input type="text" name="chores" value="' + chore.html() + '">');
	}


	$("#chore-potentials li").on('click', selectChore);

	function setChoreFreq(evt){
		var chore = $(evt.target);
		var choreElement = $('<li>').html(chore.html());
		$("#chore-modal").append(choreElement);
	}


</script>




{% endblock %}